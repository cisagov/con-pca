{% load static %}
<!-- Monthly Report HTML-->
<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <!-- Reports Custom CSS Page -->
    <link href="{% static 'css/monthly.css'%}" rel="stylesheet">

    <!-- Bootstrap CSS Link -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <!-- Graphs Javascript Source -->
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

    <title>Monthly Report</title>
    <meta name="description" content="MonthlyReport">
</head>

<body>
    <article>

        <!-- Top blue banner -->
        <header>
            <div class="topBanner">
                <div class="container-fluid">
                    <div class="topBannerRow">
                        <div class="col-12">
                            <div id="phishLogo">
                                <img src="{% static 'img/Con-PCA_logo.svg' %}"
                                    alt="Continuous Phishing Campaign Assessment Logo">
                            </div>
                            <div id="cisaLogo">
                                <img src="{% static 'img/cisa_logo.png' %}"
                                    alt="Cybersecurity &amp; Infrastructure Security Agency">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <div class="container-fluid">
                <div class="row">

                    <!-- Left side bar -->
                    <aside>
                        <div id="reportDate">
                            <h3>{{ start_date|date:"M d, Y" }} - {{ end_date|date:"M d, Y" }}</h3>
                        </div>
                        <div id="gonePhishingImage">
                            <img src="{% static 'img/gone_phishing.jpg' %}" alt="Gone Phishing">
                        </div>
                        <div id="primaryContact">
                            <span>Primary Contact Information</span><br>
                            <h2>{{ primary_contact_name }}</h2>
                            {{ customer_address }}<br>
                            {{ customer_address_2 }}<br>
                            {{ primary_contact_email }}<br>
                            <br>
                            CISA Contact Information&colon;<br>
                            {{ dhs_contact_email }}<br>
                            {{ dhs_contact_mobile_phone }}<br>
                        </div>
                        <div id="numbersTitle">
                            <h2>Overall Campaign Numbers</h2>
                        </div>
                        <div id="campaignNumbers">
                            Total Emails Sent: {{metrics.number_of_email_sent_overall}}<br>
                            Email Click Rate: {{meterics.number_of_email_clicked}}
                            ({{metrics.percent_of_clicked_emails}}%)<br>
                            Reported Emails: 0 (0%)<br>
                        </div>
                        <div id="preparedFor">
                            Prepared for<br>
                            <span>{{customer_name}}</span>
                        </div>
                    </aside>

                    <!-- Right 2/3 of the screen -->
                    <div class="main-content">
                        <div id="reportTitle">
                            <img src="{% static 'img/title.svg' %}" alt="Monthly Subscription Report">
                        </div>
                        <div class="data-report">
                            <!-- Averages -->
                            <div class="row">
                                <div class="col-5">
                                    <div id="averageClickTitle">
                                        <h3>Average Time<br> to First Click</h3>
                                    </div>
                                    <div id="averageClickTime">
                                        <span>03&colon;00</span><br>
                                        minutes
                                    </div>
                                </div>
                                <div class="col-5">
                                    <div id="averageReportTitle">
                                        <h3>Average Time<br> to Report</h3>
                                    </div>
                                    <div id="averageReportTime">
                                        <span>17&colon;00</span><br>
                                        minutes
                                    </div>
                                </div>
                            </div>
                            <!-- Yellow Circles -->
                            <div class="row">
                                <div class="col-5">
                                    <div class="circles">
                                        <img src="{% static 'img/dotted_circle.svg' %}"
                                            alt="Yellow dotted circle outline">
                                    </div>
                                </div>
                                <div class="col-5">
                                    <div class="circles">
                                        <img src="{% static 'img/dotted_circle.svg' %}"
                                            alt="Yellow dotted circle outline">
                                    </div>
                                </div>
                            </div>
                            <!-- Campaign Progress -->
                            <div class="row">
                                <div class="col-10">
                                    <div id="campaignProgressText">
                                        <ul>
                                            <li>This Report has been generated in Q1 of your phishing subscription</li>
                                            <li>Of the total {{metrics.total_users_targeted}} targets in this quarter
                                                cycle, {{metrics.number_of_email_sent_overall}} targets have had emails
                                                sent.</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <!-- Donut Charts -->
                            <div class="row">
                                <div class="col-12">
                                    <div id="donut-charts">
                                        <div class="col-3">
                                            <img src="data:image/svg+xml;charset=utf-8;base64, {{sent_circle_svg}}">
                                            <p class="donut-caption">Emails Sent of Total Targets</p>
                                        </div>
                                        <div class="col-3">
                                            <img src="data:image/svg+xml;charset=utf-8;base64, {{opened_circle_svg}}">
                                            <p class="donut-caption">Emails Opened of Sent</p>
                                        </div>
                                        <div class="col-3">
                                            <img src="data:image/svg+xml;charset=utf-8;base64, {{clicked_circle_svg}}">
                                            <p class="donut-caption">Emails Clicked of Total</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Bar Chart -->
                            <div class="row">
                                <div class="col-10 container-fluid">
                                    <div class="bar-chart">
                                        <h2>STATISTIC BY LEVEL</h2>
                                        <img src="data:image/svg+xml;charset=utf-8;base64, {{metrics.levels_bar_chart}}">
                                        <ul class="legend">
                                            <li>Low</li>
                                            <li>Moderate</li>
                                            <li>High</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </article>
</body>

</html>
